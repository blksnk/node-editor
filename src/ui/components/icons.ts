import { svgElement } from '../../utils/document';
import { cssValue } from '../../utils/css';
import { resizeSvg } from '../../renderer/connection';
import { cssSelectors } from '../cssSelectors';

export const IconNames = [
  'help',
  'Numbers',
  'Strings',
  'Objects',
  'Arrays',
  'Booleans',
  'Logic',
  'Runtime',
];

type IconName = typeof IconNames[number];

interface IconDefinition {
  paths: string[];
  height: number;
  width: number;
  color: string;
  className: string;
}

const iconPaths = {
  help: {
    paths: [
      'M12 3C7.03125 3 3 7.03125 3 12C3 16.9688 7.03125 21 12 21C16.9688 21 21 16.9688 21 12C21 7.03125 16.9688 3 12 3ZM11.7188 17.25C11.5333 17.25 11.3521 17.195 11.1979 17.092C11.0437 16.989 10.9236 16.8426 10.8526 16.6713C10.7817 16.5 10.7631 16.3115 10.7993 16.1296C10.8354 15.9477 10.9247 15.7807 11.0558 15.6496C11.1869 15.5185 11.354 15.4292 11.5359 15.393C11.7177 15.3568 11.9062 15.3754 12.0775 15.4464C12.2488 15.5173 12.3952 15.6375 12.4983 15.7917C12.6013 15.9458 12.6562 16.1271 12.6562 16.3125C12.6562 16.5611 12.5575 16.7996 12.3817 16.9754C12.2058 17.1512 11.9674 17.25 11.7188 17.25ZM13.2863 12.4688C12.5264 12.9788 12.4219 13.4461 12.4219 13.875C12.4219 14.049 12.3527 14.216 12.2297 14.339C12.1066 14.4621 11.9397 14.5312 11.7656 14.5312C11.5916 14.5312 11.4247 14.4621 11.3016 14.339C11.1785 14.216 11.1094 14.049 11.1094 13.875C11.1094 12.848 11.5819 12.0314 12.5541 11.3784C13.4578 10.7719 13.9688 10.3875 13.9688 9.54234C13.9688 8.96766 13.6406 8.53125 12.9614 8.20828C12.8016 8.13234 12.4458 8.05828 12.008 8.06344C11.4586 8.07047 11.032 8.20172 10.7034 8.46609C10.0837 8.96484 10.0312 9.50766 10.0312 9.51562C10.0271 9.60181 10.006 9.68632 9.96919 9.76435C9.93237 9.84238 9.88054 9.9124 9.81667 9.9704C9.75279 10.0284 9.67811 10.0732 9.5969 10.1024C9.51569 10.1315 9.42954 10.1444 9.34336 10.1402C9.25718 10.1361 9.17266 10.115 9.09463 10.0782C9.0166 10.0414 8.94659 9.98953 8.88859 9.92565C8.83059 9.86177 8.78574 9.7871 8.7566 9.70589C8.72745 9.62468 8.71459 9.53852 8.71875 9.45234C8.72391 9.33844 8.80313 8.31234 9.87984 7.44609C10.4381 6.99703 11.1483 6.76359 11.9892 6.75328C12.5845 6.74625 13.1437 6.84703 13.523 7.02609C14.6578 7.56281 15.2812 8.45766 15.2812 9.54234C15.2812 11.1281 14.2214 11.8402 13.2863 12.4688Z',
    ],
    height: 24,
    width: 24,
    color: cssValue('white'),
    className: cssSelectors.ui.icons.help,
  },
  Numbers: {
    paths: [
      'M3.80001 0.856018C4.94668 0.856018 5.81335 1.34135 6.40001 2.31202C6.99201 3.28268 7.28801 4.68002 7.28801 6.50402C7.28801 8.33335 6.99201 9.73335 6.40001 10.704C5.81335 11.6747 4.94668 12.16 3.80001 12.16C2.65868 12.16 1.79201 11.6747 1.20001 10.704C0.608012 9.73335 0.312012 8.33335 0.312012 6.50402C0.312012 4.68002 0.608012 3.28268 1.20001 2.31202C1.79201 1.34135 2.65868 0.856018 3.80001 0.856018ZM3.80001 1.72002C3.09068 1.72002 2.52001 2.09602 2.08801 2.84802C1.66135 3.59468 1.44801 4.81335 1.44801 6.50402C1.44801 7.33068 1.49601 8.04535 1.59201 8.64802C1.68801 9.25068 1.83201 9.74668 2.02401 10.136C2.22135 10.5254 2.46668 10.816 2.76001 11.008C3.05868 11.1947 3.40535 11.288 3.80001 11.288C4.28001 11.288 4.69601 11.1227 5.04801 10.792C5.40534 10.4614 5.68001 9.94402 5.87201 9.24002C6.06401 8.53068 6.16001 7.61868 6.16001 6.50402C6.16001 5.40002 6.07468 4.49602 5.90401 3.79202C5.73868 3.08268 5.48001 2.56002 5.12801 2.22402C4.78135 1.88802 4.33868 1.72002 3.80001 1.72002ZM5.53601 2.12002L5.80001 3.23202L2.13601 10.624L1.70401 9.74402L5.53601 2.12002Z',
      'M14.3458 1.00802V11.68H13.3298V2.15202L10.7298 3.72002L10.2898 2.99202L13.4818 1.00802H14.3458ZM16.7138 11.144V12H10.6098V11.144H16.7138Z',
    ],
    height: 11.3,
    width: 16.4,
    color: cssValue('number'),
    className: cssSelectors.ui.icons.number,
  },
  Runtime: {
    paths: [
      'M15.25 0C14.4083 0 13.5625 0.229166 12.7417 0.683333C12.0625 1.05833 11.4042 1.59167 10.8375 2.22083C10.5917 2.49583 10.6125 2.91667 10.8875 3.1625C11.1625 3.40833 11.5833 3.3875 11.8292 3.1125C12.8458 1.98333 14.0917 1.33333 15.25 1.33333C17.1333 1.33333 18.6667 2.82917 18.6667 4.66667C18.6667 6.50417 17.1333 8 15.25 8C12.4625 8 10.6208 4.41667 10.5958 4.36667C10.5042 4.17917 8.36667 0 4.75 0C2.12917 0 0 2.09167 0 4.66667C0 7.24167 2.12917 9.33333 4.75 9.33333C5.59167 9.33333 6.4375 9.10417 7.25833 8.65C7.9375 8.275 8.59583 7.74167 9.1625 7.1125C9.40833 6.8375 9.3875 6.41667 9.1125 6.17083C8.8375 5.925 8.41667 5.94583 8.17083 6.22083C7.15417 7.35 5.90833 8 4.75 8C2.86667 8 1.33333 6.50417 1.33333 4.66667C1.33333 2.82917 2.86667 1.33333 4.75 1.33333C7.5375 1.33333 9.37917 4.91667 9.40417 4.96667C9.49583 5.15 11.6333 9.33333 15.25 9.33333C17.8708 9.33333 20 7.24167 20 4.66667C20 2.09167 17.8708 0 15.25 0Z',
    ],
    height: 9.33,
    width: 20,
    color: cssValue('white'),
    className: cssSelectors.ui.icons.number,
  },
  Strings: {
    paths: [
      'M7.09601 8.064H2.40801L1.44001 11H0.480011L4.12001 0.00799561H5.47201L9.12001 11H8.06401L7.09601 8.064ZM2.75201 7.136H6.76001L4.76801 0.959995L2.75201 7.136Z',
      'M17.0498 9.344C17.0498 9.68533 17.1084 9.936 17.2258 10.096C17.3431 10.2507 17.5244 10.3653 17.7698 10.44L17.4978 11.168C17.1778 11.12 16.8924 11.0027 16.6418 10.816C16.3911 10.6293 16.2151 10.344 16.1138 9.96C15.8204 10.3493 15.4524 10.648 15.0098 10.856C14.5724 11.0587 14.0764 11.16 13.5218 11.16C12.6898 11.16 12.0364 10.9253 11.5618 10.456C11.0871 9.98666 10.8498 9.36 10.8498 8.576C10.8498 7.72266 11.1804 7.06933 11.8418 6.616C12.5084 6.16266 13.4764 5.936 14.7458 5.936H16.0178V5.12C16.0178 4.464 15.8284 4.00533 15.4498 3.744C15.0764 3.47733 14.5644 3.344 13.9138 3.344C13.6311 3.344 13.3111 3.376 12.9538 3.44C12.5964 3.504 12.1991 3.61333 11.7618 3.768L11.4738 2.952C11.9804 2.76533 12.4391 2.63466 12.8498 2.56C13.2658 2.48533 13.6684 2.448 14.0578 2.448C15.0444 2.448 15.7884 2.69066 16.2898 3.176C16.7964 3.656 17.0498 4.29333 17.0498 5.088V9.344ZM13.7138 10.368C14.1724 10.368 14.6018 10.256 15.0018 10.032C15.4018 9.808 15.7404 9.496 16.0178 9.096V6.696H14.6258C13.6284 6.696 12.9324 6.872 12.5378 7.224C12.1431 7.57066 11.9458 8.032 11.9458 8.608C11.9458 9.18933 12.0898 9.62933 12.3778 9.928C12.6658 10.2213 13.1111 10.368 13.7138 10.368Z',
    ],
    height: 11.16,
    width: 17.29,
    color: cssValue('string'),
    className: cssSelectors.ui.icons.number,
  },
  Objects: {
    paths: [
      'M6.15201 0.656006V1.50401C5.74134 1.50401 5.36534 1.54667 5.024 1.63201C4.68267 1.71201 4.416 1.85067 4.224 2.04801C4.032 2.24534 3.952 2.51467 3.984 2.85601L4.344 6.41601C4.38667 6.81601 4.37067 7.15201 4.29601 7.42401C4.22134 7.69601 4.088 7.91201 3.896 8.07201C3.70934 8.22667 3.45867 8.33601 3.144 8.40001C3.45867 8.45867 3.712 8.56267 3.904 8.71201C4.096 8.85601 4.22667 9.06401 4.29601 9.33601C4.37067 9.60267 4.38667 9.95201 4.344 10.384L3.984 13.944C3.952 14.2907 4.02934 14.5627 4.216 14.76C4.408 14.9573 4.67467 15.096 5.016 15.176C5.36267 15.256 5.74134 15.296 6.15201 15.296V16.144C5.78934 16.144 5.416 16.1093 5.032 16.04C4.65334 15.9707 4.304 15.8507 3.984 15.68C3.66934 15.5093 3.424 15.2693 3.248 14.96C3.07734 14.656 3.01867 14.264 3.072 13.784L3.424 10.52C3.46134 10.168 3.43467 9.86401 3.344 9.60801C3.25867 9.34667 3.03467 9.14667 2.672 9.00801C2.30934 8.86401 1.73067 8.79201 0.936005 8.79201V8.00801C1.73067 8.00801 2.30934 7.93867 2.672 7.80001C3.04 7.66134 3.26667 7.46401 3.352 7.20801C3.43734 6.95201 3.46134 6.64801 3.424 6.29601L3.072 3.00801C3.024 2.53334 3.08534 2.14401 3.256 1.84001C3.432 1.53067 3.67734 1.29067 3.992 1.12001C4.30667 0.949339 4.65334 0.829339 5.032 0.760006C5.416 0.690673 5.78934 0.656006 6.15201 0.656006Z',
      'M11.0418 0.656006C11.4044 0.656006 11.7751 0.690673 12.1538 0.760006C12.5378 0.829339 12.8871 0.949339 13.2018 1.12001C13.5218 1.29067 13.7671 1.53067 13.9378 1.84001C14.1138 2.14401 14.1751 2.53601 14.1218 3.01601L13.7698 6.29601C13.7324 6.64801 13.7724 6.95201 13.8898 7.20801C14.0124 7.46401 14.2578 7.66134 14.6258 7.80001C14.9991 7.93867 15.5431 8.00801 16.2578 8.00801V8.79201C15.5431 8.79201 14.9991 8.86401 14.6258 9.00801C14.2578 9.14667 14.0124 9.34667 13.8898 9.60801C13.7724 9.86401 13.7324 10.168 13.7698 10.52L14.1218 13.792C14.1698 14.2667 14.1058 14.656 13.9298 14.96C13.7591 15.2693 13.5164 15.5093 13.2018 15.68C12.8871 15.8507 12.5378 15.9707 12.1538 16.04C11.7751 16.1093 11.4044 16.144 11.0418 16.144V15.296C11.4524 15.296 11.8284 15.256 12.1698 15.176C12.5111 15.096 12.7778 14.9573 12.9698 14.76C13.1671 14.5627 13.2471 14.2907 13.2098 13.944L12.8498 10.384C12.8071 9.94667 12.8231 9.59467 12.8978 9.32801C12.9724 9.06134 13.1191 8.85867 13.3378 8.72001C13.5618 8.57601 13.8764 8.47734 14.2818 8.42401C13.9084 8.35467 13.6098 8.24001 13.3858 8.08001C13.1618 7.91467 13.0071 7.69601 12.9218 7.42401C12.8364 7.15201 12.8124 6.81601 12.8498 6.41601L13.2098 2.85601C13.2471 2.51467 13.1671 2.24534 12.9698 2.04801C12.7778 1.85067 12.5111 1.71201 12.1698 1.63201C11.8338 1.54667 11.4578 1.50401 11.0418 1.50401V0.656006Z',
    ],
    height: 15.49,
    width: 15.32,
    color: cssValue('object'),
    className: cssSelectors.ui.icons.number,
  },
  Arrays: {
    paths: [
      'M0.0799866 15.808V0.992004H3.81599V1.928H1.01599V14.888H3.81599V15.808H0.0799866Z',
      'M13.1137 0.992004V15.808H9.37774V14.896H12.1777V1.928H9.37774V0.992004H13.1137Z',
    ],
    height: 14.82,
    width: 13.03,
    color: cssValue('array'),
    className: cssSelectors.ui.icons.number,
  },
  Logic: {
    paths: [
      'M3.70705 14.5312C3.67482 14.5312 3.64259 14.5283 3.6133 14.5225C3.47267 14.499 3.34962 14.4199 3.26759 14.3027C3.18556 14.1855 3.15333 14.042 3.1797 13.9014L4.00001 9.375H0.812514C0.630873 9.375 0.466811 9.27246 0.390639 9.1084C0.311537 8.94434 0.334975 8.75098 0.449233 8.61035L6.86818 0.676758C6.97072 0.547852 7.12599 0.46875 7.29298 0.46875C7.31349 0.46875 7.33986 0.46875 7.36037 0.47168C7.50392 0.489258 7.6299 0.5625 7.72072 0.676758C7.80861 0.791016 7.84962 0.931641 7.83205 1.0752C7.83205 1.08398 7.82912 1.09277 7.82912 1.10156L7.00001 5.625H10.1875C10.3692 5.625 10.5332 5.72754 10.6094 5.8916C10.6885 6.05566 10.6651 6.24902 10.5508 6.38965L4.13185 14.3262C4.02931 14.4551 3.87111 14.5312 3.70705 14.5312ZM1.79396 8.4375H4.56251C4.70021 8.4375 4.83205 8.49902 4.92287 8.60449C5.01076 8.70996 5.04884 8.85059 5.0254 8.98828L4.38087 12.5244L9.20607 6.5625H6.43751C6.29982 6.5625 6.16798 6.50098 6.07716 6.39258C5.98927 6.28711 5.95119 6.14355 5.97462 6.00879L6.62208 2.46973L1.79396 8.4375Z',
    ],
    height: 14.06,
    width: 11.31,
    color: cssValue('white-50'),
    className: cssSelectors.ui.icons.number,
  },
  Booleans: {
    paths: [
      'M7.98605 2.93649e-05C6.40656 5.64273e-05 4.86254 0.468452 3.54924 1.34599C2.23595 2.22352 1.21237 3.47078 0.607922 4.93004C0.00347914 6.38931 -0.154673 7.99504 0.153463 9.54418C0.4616 11.0933 1.22219 12.5163 2.33905 13.6332C3.0793 14.3808 3.95997 14.9747 4.93045 15.3809C5.90094 15.7871 6.94213 15.9976 7.99419 16.0001C9.04626 16.0027 10.0885 15.7974 11.0609 15.396C12.0334 14.9946 12.917 14.405 13.6609 13.6611C14.4048 12.9171 14.9944 12.0336 15.3959 11.0611C15.7973 10.0886 16.0026 9.0464 16 7.99434C15.9974 6.94228 15.787 5.90109 15.3808 4.9306C14.9746 3.96011 14.3806 3.07944 13.6331 2.33919C12.8932 1.59527 12.0132 1.00548 11.0439 0.603966C10.0746 0.202448 9.03523 -0.00282507 7.98605 2.93649e-05ZM1.14076 7.9862C1.14076 4.21166 4.21152 1.14091 7.98605 1.14091V14.8315C4.21152 14.8315 1.14076 11.7607 1.14076 7.9862Z',
    ],
    height: 16,
    width: 16,
    color: cssValue('boolean'),
    className: cssSelectors.ui.icons.number,
  },
} as {
  [k: IconName]: IconDefinition;
};

interface IconOptions {
  color?: string;
  opacity?: number;
  className?: string;
  width?: number;
  height?: number;
}

export const Icon = (kind: IconName, options: IconOptions = {}) => {
  const icon = iconPaths[kind];
  const color = options.color ?? icon.color;
  const opacity = options.opacity ?? 1;
  const size = {
    width: options.width ?? icon.width,
    height: options.height ?? icon.height,
  };
  const classes = [cssSelectors.ui.icons.icon, icon.className];
  if (options.className) {
    classes.push(options.className);
  }
  const svg = svgElement<SVGSVGElement>('svg');
  resizeSvg(svg, size);
  svg.classList.add(...classes);
  const paths = icon.paths.map((d) => {
    const path = svgElement<SVGPathElement>('path');
    path.setAttribute('d', d);
    path.setAttribute('fill', color);
    path.setAttribute('fill-opacity', String(opacity));
    return path;
  });
  svg.append(...paths);
  return svg;
};
